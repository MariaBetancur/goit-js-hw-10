{"mappings":"AAEA,MAAMA,EAAcC,SAASC,cAAc,iBACrCC,EAAYF,SAASC,cAAc,aACnCE,EAASH,SAASC,cAAc,WAChCG,EAAeJ,SAASC,cAAc,UAC5CF,EAAYM,UAAUC,IAAI,UAC1BH,EAAOE,UAAUE,OAAO,UCNfC,MAAM,sCAAuC,CAClDC,QAAS,CACP,YACE,2EAEHC,MAAKC,IACN,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,yBAElB,OAAOF,EAASG,MAAM,IDDvBJ,MAAKK,IACJhB,EAAYM,UAAUE,OAAO,UAC7BJ,EAAOE,UAAUC,IAAI,UACrBU,QAAQC,IAAIF,GACZ,MAAMG,EAAU,GAChBH,EAAOI,SAAQC,IACb,MAAMC,EAASrB,SAASsB,cAAc,UACtCD,EAAOE,MAAQH,EAAMI,GACrBH,EAAOI,YAAcL,EAAMM,KAC3BR,EAAQS,KAAKN,EAAO,IAEtBtB,EAAY6B,UAAUV,EAAQ,IAE/BW,OAAMC,IACLd,QAAQc,MAAM,SAAUA,GACxB1B,EAAaC,UAAUE,OAAO,SAAS,IAG3CR,EAAYgC,iBAAiB,UAAUC,IACrC,MAAMC,EAAiBD,EAAEE,OAAOX,MCd3B,IAAyBY,EDe1BF,IACF9B,EAAOE,UAAUE,OAAO,WChBI4B,EDiBZF,EChBXzB,MACL,uDAAuD2B,IACvD,CACE1B,QAAS,CACP,YACE,2EAILC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,yBAElB,OAAOF,EAASG,MAAM,IAEvBJ,MAAK0B,GAAQA,EAAK,MDEhB1B,MAAK2B,IACJlC,EAAOE,UAAUC,IAAI,UACrBU,QAAQC,IAAIoB,GACZ,MAAMC,EAAMD,EAAQtB,OAAO,GAE3Bb,EAAUqC,UAAY,mCAEXF,EAAQG,WAAWF,EAAIZ,wBAC5BY,EAAIZ,yBACLY,EAAIG,gCAETtC,EAAOE,UAAUC,IAAI,UACrBJ,EAAUG,UAAUE,OAAO,SAAS,IAErCsB,OAAMC,IACLd,QAAQc,MAAM,SAAUA,GACxB1B,EAAaC,UAAUE,OAAO,SAAS,I","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n//peticion HTTP\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfoEl = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst errorElement = document.querySelector('.error');\nbreedSelect.classList.add('hidden');\nloader.classList.remove('hidden');\nfetchBreeds()\n  .then(breeds => {\n    breedSelect.classList.remove('hidden');\n    loader.classList.add('hidden');\n    console.log(breeds);\n    const options = [];\n    breeds.forEach(breed => {\n      const option = document.createElement('option');\n      option.value = breed.id;\n      option.textContent = breed.name;\n      options.push(option);\n    });\n    breedSelect.append(...options);\n  })\n  .catch(error => {\n    console.error('Error:', error);\n    errorElement.classList.remove('hidden');\n  });\n\nbreedSelect.addEventListener('change', e => {\n  const selectedOption = e.target.value;\n  if (selectedOption) {\n    loader.classList.remove('hidden');\n    fetchCatByBreed(selectedOption)\n      .then(catData => {\n        loader.classList.add('hidden');\n        console.log(catData);\n        const cat = catData.breeds[0];\n        //const cat = catData.breeds.length > 0 ? catData.breeds[0] : null;\n        catInfoEl.innerHTML = `\n      <div>\n        <img src=${catData.url} alt=${cat.name} />\n        <h3>${cat.name}</h3>\n        <p>${cat.description}</p>\n      </div>`;\n        loader.classList.add('hidden');\n        catInfoEl.classList.remove('hidden');\n      })\n      .catch(error => {\n        console.error('Error:', error);\n        errorElement.classList.remove('hidden');\n      });\n  }\n});\n","export function fetchBreeds() {\n  return fetch('https://api.thecatapi.com/v1/breeds', {\n    headers: {\n      'x-api-key':\n        'live_pa8j24YASXV1ikK3eqCyQAgv0HmRLxkS3O6N1JNeXgOavrwNl3JkhXMRpzI7GoM2',\n    },\n  }).then(response => {\n    if (!response.ok) {\n      throw new Error('Error en la solicitud');\n    }\n    return response.json();\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?breed_id=${breedId}`,\n    {\n      headers: {\n        'x-api-key':\n          'live_pa8j24YASXV1ikK3eqCyQAgv0HmRLxkS3O6N1JNeXgOavrwNl3JkhXMRpzI7GoM2',\n      },\n    }\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Error en la solicitud');\n      }\n      return response.json();\n    })\n    .then(data => data[0]);\n}\n"],"names":["$1f0dc3b9307be026$var$breedSelect","document","querySelector","$1f0dc3b9307be026$var$catInfoEl","$1f0dc3b9307be026$var$loader","$1f0dc3b9307be026$var$errorElement","classList","add","remove","fetch","headers","then","response","ok","Error","json","breeds","console","log","options","forEach","breed","option","createElement","value","id","textContent","name","push","append","catch","error","addEventListener","e","selectedOption","target","breedId","data","catData","cat","innerHTML","url","description"],"version":3,"file":"index.087e42cf.js.map"}